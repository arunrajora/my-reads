(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(A,e){A.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAyAAD/4QMuaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQzNTIsIDIwMjAvMDEvMzAtMTU6NTA6MzggICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE0MUFBQjAzQThBRTExRUJBRjNFRUM4NjVCRDBENTJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE0MUFBQjA0QThBRTExRUJBRjNFRUM4NjVCRDBENTJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTQxQUFCMDFBOEFFMTFFQkFGM0VFQzg2NUJEMEQ1MkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTQxQUFCMDJBOEFFMTFFQkFGM0VFQzg2NUJEMEQ1MkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAIBgYGBgYIBgYIDAgHCAwO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"},23:function(A,e,t){A.exports=t(36)},34:function(A,e,t){},35:function(A,e,t){},36:function(A,e,t){"use strict";t.r(e);var n=t(0),a=t.n(n),o=t(16),r=t.n(o),c=t(6),s=t(1),l=t(5),u=t.n(l),i=t(8),m=t(9),b=t(2),h="https://reactnd-books-api.udacity.com",E=localStorage.token;E||(E=localStorage.token=Math.random().toString(36).substr(-8));var p={Accept:"application/json",Authorization:E},d=function(){return fetch("".concat(h,"/books"),{headers:p}).then(function(A){return A.json()}).then(function(A){return A.books})},f=function(A,e){return fetch("".concat(h,"/books/").concat(A.id),{method:"PUT",headers:Object(b.a)(Object(b.a)({},p),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then(function(A){return A.json()})},k=function(A){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(b.a)(Object(b.a)({},p),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:A})}).then(function(A){return A.json()}).then(function(A){return A.books})},v=Object(n.createContext)(),O=function(A,e){switch(e.type){case"GET_ALL_BOOKS":return Object(b.a)(Object(b.a)({},A),{},{books:e.payload});case"GET_BOOK":return Object(b.a)(Object(b.a)({},A),{},{book:e.payload});case"SEARCH_BOOKS":return Object(b.a)(Object(b.a)({},A),{},{booksResults:e.payload});case"UPDATE_BOOK":return Object(b.a)(Object(b.a)({},A),{},{books:e.payload});default:return A}},y=function(A){var e=Object(n.useReducer)(O,{book:{},books:[],booksResults:[]}),t=Object(m.a)(e,2),o=t[0],r=t[1],c=function(){var A=Object(i.a)(u.a.mark(function A(){var e;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,d().then(function(A){return A.sort(function(A,e){return A.title>e.title?1:-1})});case 2:e=A.sent,r({type:"GET_ALL_BOOKS",payload:e});case 4:case"end":return A.stop()}},A)}));return function(){return A.apply(this,arguments)}}(),s=function(){var A=Object(i.a)(u.a.mark(function A(e){var t;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,n=e,fetch("".concat(h,"/books/").concat(n),{headers:p}).then(function(A){return A.json()}).then(function(A){return A.book});case 2:t=A.sent,r({type:"GET_BOOK",payload:t});case 4:case"end":return A.stop()}var n},A)}));return function(e){return A.apply(this,arguments)}}(),l=function(){var A=Object(i.a)(u.a.mark(function A(e){var t;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,k(e).then(function(A){var t=o.books.filter(function(A){return A.title.toLowerCase().startsWith(e.toLowerCase())});return Array.isArray(A)&&A.length>0?A.filter(function(A){return!t.some(function(e){return A.id===e.id})}).concat(t).sort(function(A,e){return A.title>e.title?1:-1}):[]});case 2:t=A.sent,r({type:"SEARCH_BOOKS",payload:t});case 4:case"end":return A.stop()}},A)}));return function(e){return A.apply(this,arguments)}}(),b=function(){var A=Object(i.a)(u.a.mark(function A(e,t){var n;return u.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,f(e,t).then(function(){return d()});case 2:n=A.sent,r({type:"UPDATE_BOOK",payload:n});case 4:case"end":return A.stop()}},A)}));return function(e,t){return A.apply(this,arguments)}}();return Object(n.useEffect)(function(){c()},[]),a.a.createElement(v.Provider,{value:{book:o.book,books:o.books,booksResults:o.booksResults,getAllBooks:c,getBook:s,searchBooks:l,updateBook:b}},A.children)},R=function(){return a.a.createElement("div",{className:"list-books-title"},a.a.createElement("h1",null,"MyReads"))},j=t(17),M=t(18),B=t(22),N=t(21),g=function(A){var e=A.book,t=Object(n.useContext)(v);return a.a.createElement("div",{className:"book-shelf-changer"},a.a.createElement("select",{value:e.hasOwnProperty("shelf")?A.book.shelf:"none",onChange:function(A){var n=A.target.value;""!==n&&t.updateBook(e,n)}},a.a.createElement("option",{disabled:!0},"Move to..."),a.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),a.a.createElement("option",{value:"wantToRead"},"Want to Read"),a.a.createElement("option",{value:"read"},"Read"),a.a.createElement("option",{value:"none"},"None")))},I=t(19),T=t.n(I),x=function(A){Object(B.a)(t,A);var e=Object(N.a)(t);function t(){return Object(j.a)(this,t),e.apply(this,arguments)}return Object(M.a)(t,[{key:"render",value:function(){var A=this.props.book;return a.a.createElement("li",null,a.a.createElement("div",{className:"book"},a.a.createElement("div",{className:"book-top"},a.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(A.imageLinks?A.imageLinks.thumbnail:T.a,")")}}),a.a.createElement(g,{book:A})),a.a.createElement("div",{className:"book-title"},A.title),a.a.createElement("div",{className:"book-authors"},A.authors?A.authors.join(", "):"")))}}]),t}(n.Component),z=function(A){var e=A.bookshelfTitle,t=A.books;return a.a.createElement("div",{className:"bookshelf"},a.a.createElement("h2",{className:"bookshelf-title"},e),a.a.createElement("div",{className:"bookshelf-books"},a.a.createElement("ol",{className:"books-grid"},t.map(function(A){return a.a.createElement(x,{key:A.id,book:A})}))))},C=function(){var A=Object(n.useContext)(v).books;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null),a.a.createElement("div",{className:"list-books"},a.a.createElement("div",{className:"list-books-content"},a.a.createElement(z,{books:A.filter(function(A){return"currentlyReading"===A.shelf}),bookshelfTitle:"Currently Reading"}),a.a.createElement(z,{books:A.filter(function(A){return"wantToRead"===A.shelf}),bookshelfTitle:"Want To Read"}),a.a.createElement(z,{books:A.filter(function(A){return"read"===A.shelf}),bookshelfTitle:"Read"})),a.a.createElement("div",{className:"open-search"},a.a.createElement(c.b,{to:"/search"},a.a.createElement("button",{type:"button"},"Add a book")))))},w=function(){var A=Object(n.useContext)(v),e=Object(n.useState)(""),t=Object(m.a)(e,2),o=t[0],r=t[1];return a.a.createElement("div",{className:"search-books-bar"},a.a.createElement(c.b,{to:"/"},a.a.createElement("button",{className:"close-search",type:"button"},"Close")),a.a.createElement("div",{className:"search-books-input-wrapper"},a.a.createElement("input",{type:"search",placeholder:"Search by title or author",value:o,onChange:function(e){var t=e.target.value;r(t),A.searchBooks(t)}})))},Q=function(A){return a.a.createElement("div",{className:"search-books-results"},a.a.createElement("ol",{className:"books-grid"},A.books.length>0&&A.books.map(function(A){return a.a.createElement(x,{key:A.id,book:A})})))},G=function(){var A=Object(n.useContext)(v);return a.a.createElement("div",{className:"search-books"},a.a.createElement(w,null),a.a.createElement(Q,{books:A.booksResults}))},U=(t(34),function(){return a.a.createElement(y,null,a.a.createElement("div",{className:"app"},a.a.createElement(s.a,{exact:!0,path:"/",component:C}),a.a.createElement(s.a,{exact:!0,path:"/search",component:G})))});t(35);console.log("found","/my-reads"),r.a.render(a.a.createElement(c.a,{basename:"".concat("/my-reads","/")},a.a.createElement(U,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.cb748150.chunk.js.map